@using NajdiDoktoraApp.StaticData
@model SearchResults

@{
    Layout = null;

    string EvaluateField(string field)
    {
        return field == null || field == String.Empty ? "Neuvedeno" : field;
    }
}

<!DOCTYPE html>

<html>
<head>
    <title>Hledání</title>
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
</head>
<body class="overrideBody">
<div class="fakeNavbar">Najdi doktora</div>
<!---->
<div>
    <form asp-action=Search class="searchPart">
        <input type="text" class="addressBar" rows="1" placeholder="Adresa"/> <!--add  asp-for-->
        <button type="button" class="blueButtonMap">
                <i class="fa-solid fa-location-dot"></i></button>
        <select class="typeBar" asp-for="Parameters.Type"><!--add  asp-for-->
            @foreach (var item in EnumMapper.ClinicTypeMap)
            {
                <option id="@item.Type" value="@item.Type">@item.ClinicName</option>
            }
        </select>
        <button type="submit" class="blueButtonSearch">Hledat</button>
    </form>
</div> 
<hr class="underline"/>
<div class="results">
    @foreach (var item in Model.Results)
    {
        <div class="individualResult">
            <div class="individualResultTitle">
                <a>@item.Name</a>
                @if (item.Status == "OPERATIONAL")
                {
                    <a>Nyní otevřeno</a>
                }
                else
                {
                    <a>Nyní zavřeno</a>
                }
            </div>
            <div class="individualResultItems">
                <div class="individualResultText">
                    <div><i class="fa-solid fa-location-dot"></i><a>@EvaluateField(item.Name)</a></div>
                    <div><i class="fa-solid fa-phone"></i><a>@EvaluateField(item.FormattedPhoneNumber)</a></div>
                    <div><i class="fa-solid fa-globe"></i><a>@EvaluateField(item.Website)</a></div>
                    <div><i class="fa-solid fa-magnifying-glass"></i><a>@EvaluateField(item.ReviewCount.ToString())</a></div>
                    <div><i class="fa-solid fa-star"></i><a>@EvaluateField(item.AverageRating.ToString("0.#"))</a></div>
                    <div><i class="fa-solid fa-map-location-dot"></i><a>@item.Distance.ToString("0.##") km</a></div>
                </div>
                <div class="individualResultMap">
                    <iframe src="@item.EmbedLink"></iframe>
                </div>
            </div>
        </div>
    }
</div>
</body>
</html>

<script src="https://kit.fontawesome.com/b85629988f.js" crossorigin="anonymous"></script>